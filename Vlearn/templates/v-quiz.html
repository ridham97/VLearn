<!-- result section -->
<div class="result py-4 d-none bg-light text-center">
    <div class="container lead">
        <p id="v_result">You are <span class="text-primary display-4 p-3">0%</span> score</p>
    </div>
</div>

<!-- quiz section -->
<div class="quiz py-4 bg-light">
    <div class="container">
        <h2 class="my-5 text-dark">On with the questions...</h2>

        <form class="quiz-form text-dark">
            <div class="my-5">
                <p class="lead font-weight-normal">1. How do you give a ninja directions?</p>
                <div class="form-check my-2 text-dark">
                    <input type="radio" name="q1" value="A">
                    <label class="form-check-label">Show them a map</label>
                </div>
                <div class="form-check my-2 text-dark">
                    <input type="radio" name="q1" value="B">
                    <label class="form-check-label">Don't worry, the ninja will find you</label>
                </div>
            </div>
            <div class="my-5">
                <p class="lead font-weight-normal">2. If a ninja has 3 apples, then gives one to Mario & one to Yoshi,
                    how many apples does the ninja have left?</p>
                <div class="form-check my-2 text-dark">
                    <input type="radio" name="q2" value="A">
                    <label class="form-check-label">1 apple</label>
                </div>
                <div class="form-check my-2 text-dark">
                    <input type="radio" name="q2" value="B">
                    <label class="form-check-label">3 apples, and two corpses</label>
                </div>
            </div>
            <div class="my-5">
                <p class="lead font-weight-normal">3. How do you know when you've met a ninja?</p>
                <div class="form-check my-2 text-dark">
                    <input type="radio" name="q3" value="A">
                    <label class="form-check-label">You'll recognize the outfit</label>
                </div>
                <div class="form-check my-2 text-dark">
                    <input type="radio" name="q3" value="B">
                    <label class="form-check-label">The grim reaper will tell you</label>
                </div>
            </div>
            <div class="my-5">
                <p class="lead font-weight-normal">4. What's a ninja's favourite array method?</p>
                <div class="form-check my-2 text-dark">
                    <input type="radio" name="q4" value="A">
                    <label class="form-check-label">forEach()</label>
                </div>
                <div class="form-check my-2 text-dark">
                    <input type="radio" name="q4" value="B">
                    <label class="form-check-label">slice()</label>
                </div>
            </div>
            <div class="text-center">
                <input type="submit" class="btn btn-dark">
            </div>
        </form>

    </div>
</div>


<script>
    const correctAnswers = ['B', 'B', 'B', 'B'];
    const form = document.querySelector('.quiz-form');
    const result = document.querySelector('.result');
    const v_result = document.getElementById('v_result');

    form.addEventListener('submit', e => {
        e.preventDefault();

        let score = 0;
        let count=0;
        const userAnswers = [form.q1.value, form.q2.value, form.q3.value, form.q4.value];
        userAnswers.map((index)=>{
            if(index!=""){
                count++;
            }
        });
        // console.log(count);
        // if (userAnswers.length == count) {
            // check the answers
            userAnswers.forEach((answer, index) => {
                if (answer === correctAnswers[index]) {
                    score += 25;
                }
            });

            // show the result
            scrollTo(0, 0);
            result.classList.remove('d-none');

            let output = 0;
            const timer = setInterval(() => {
                result.querySelector('span').textContent = `${output}%`;
                if (output === score) {
                    clearInterval(timer);
                } else {
                    output++;
                }
            }, 10);

        // }else{
        //         result.classList.remove('d-none');
        //         result.querySelector('#v_result').innerHTML = "<p class='text-danger'>Please select all question</P>";
        // }

    });
</script>